{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\MSI\\\\Desktop\\\\sajubajufront\\\\pages\\\\signin.js\";\n\nvar __jsx = React.createElement;\nimport React, { useContext, useEffect } from \"react\";\nimport { Container, Row, Col, Form, FormGroup, Label, Input, FormText, Button } from \"reactstrap\";\nimport styled from \"styled-components\";\nimport KakaoLogin from \"react-kakao-login\";\nimport GoogleLogin from \"react-google-login\";\nimport { signinUpContext } from \"../context/signinup\";\nimport { observer } from \"mobx-react-lite\";\nimport { birthContext } from \"../context/birth\";\nimport Layout from \"../component/Layout\";\nimport Link from \"next/link\";\nimport Router from \"next/router\";\nvar ButtonWidth = styled(Button).withConfig({\n  displayName: \"signin__ButtonWidth\",\n  componentId: \"sc-1kcic08-0\"\n})([\"width:100%;margin-bottom:2%;\"]);\nvar kakaoKey = \"79f4a4e9c21f0d6f7f2a173a3c9e130f\";\nvar googleKey = \"180058710840-gn5vuk2kpe80r3dgv0aecln9fnvm7lbg.apps.googleusercontent.com\";\nvar signin = observer(function (props) {\n  var signInfo = useContext(signinUpContext); //const birthInfo = useContext(birthContext);\n\n  useEffect(function () {\n    console.log(signInfo.JoinOrNot);\n    console.log(signInfo.kakaoId);\n\n    if (signInfo.JoinOrNot === true) {\n      // signInfo.JoinOrNot = \"\";\n      Router.push(\"/snsjoin\");\n    } else if (signInfo.JoinOrNot === false && signInfo.kakaoId !== \"\") {\n      //   signInfo.JoinOrNot = \"\";\n      Router.push(\"/\");\n    }\n  }, [signInfo.JoinOrNot, signInfo.kakaoId, props.history]);\n\n  var kakaoSuccess = function kakaoSuccess(response) {\n    signInfo.kakaoId = \"\";\n    signInfo.kakaoId = response.profile.id;\n    signInfo.snsNumber = 1; // console.log(signInfo.kakaoId);\n    //signInfo.JoinOrNot = true;\n\n    signInfo.getKakaoLogin().then(function (response) {\n      // console.log(response.data);\n      //  console.log(response.data.length);\n      signInfo.name = \"\";\n      signInfo.email = \"\";\n      signInfo.password = \"\";\n\n      if (response.data.length === 0) {\n        signInfo.JoinOrNot = true; //console.log(this.JoinOrNot);\n      } else {\n        signInfo.JoinOrNot = false;\n        signInfo.name = response.data[0].name;\n        signInfo.memberYear = response.data[0].year;\n        signInfo.memberMon = response.data[0].mon;\n        signInfo.memberDay = response.data[0].day; //  console.log(this.name);\n        //   console.log(this.JoinOrNot);\n      }\n    });\n  };\n\n  var failure = function failure(error) {\n    console.log(error);\n  };\n\n  var googleSuccess = function googleSuccess(response) {\n    console.log(response);\n    signInfo.kakaoId = \"\";\n    signInfo.kakaoId = response.googleId;\n    signInfo.snsNumber = 2; // signInfo.JoinOrNot = true;\n\n    console.log(signInfo.kakaoId);\n    signInfo.name = \"\";\n    signInfo.email = \"\";\n    signInfo.password = \"\";\n    signInfo.getGoogleLogin().then(function (response) {\n      console.log(response.data);\n      console.log(response.data.length);\n\n      if (response.data.length === 0) {\n        signInfo.JoinOrNot = true;\n        console.log(_this.JoinOrNot);\n      } else {\n        signInfo.JoinOrNot = false;\n        signInfo.name = response.data[0].name;\n        signInfo.memberYear = response.data[0].year;\n        signInfo.memberMon = response.data[0].mon;\n        signInfo.memberDay = response.data[0].day;\n        console.log(_this.name);\n        console.log(_this.JoinOrNot);\n      }\n    });\n  };\n\n  var naverLogin = function naverLogin() {\n    signInfo.getNaverLogin();\n  };\n\n  var handleChangeEmail = function handleChangeEmail(e) {\n    signInfo.email = e.target.value;\n    console.log(signInfo.email);\n  };\n\n  var handleChangePassword = function handleChangePassword(e) {\n    signInfo.password = e.target.value;\n    console.log(signInfo.email);\n  };\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    signInfo.getGeneralLogin();\n  };\n\n  var GoogleLoginButton = styled(GoogleLogin).withConfig({\n    displayName: \"signin__GoogleLoginButton\",\n    componentId: \"sc-1kcic08-1\"\n  })([\"width:100%;text-align:center;\"]);\n  var KakaoLoginButton = styled(KakaoLogin).withConfig({\n    displayName: \"signin__KakaoLoginButton\",\n    componentId: \"sc-1kcic08-2\"\n  })([\"width:100%;text-align:center;background-color:#f9e000;padding:1%;border:0px;border-radius:10px;\"]);\n  var JoinButton = styled(Button).withConfig({\n    displayName: \"signin__JoinButton\",\n    componentId: \"sc-1kcic08-3\"\n  })([\"width:100%;text-align:center;\"]);\n\n  var gotoJoin = function gotoJoin() {\n    Router.push(\"/join\");\n  };\n\n  return __jsx(Layout, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 5\n    }\n  }, __jsx(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }\n  }, __jsx(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 9\n    }\n  }, __jsx(Col, {\n    md: \"2\",\n    xs: \"1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  }), __jsx(Col, {\n    md: \"8\",\n    xs: \"10\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }, __jsx(Form, {\n    onSubmit: handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, __jsx(FormGroup, {\n    row: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 15\n    }\n  }, __jsx(Label, {\n    \"for\": \"exampleEmail\",\n    sm: 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 17\n    }\n  }, \"Email\"), __jsx(Col, {\n    sm: 10,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 17\n    }\n  }, __jsx(Input, {\n    type: \"email\",\n    name: \"email\",\n    id: \"exampleEmail\",\n    placeholder: \"\\uC774\\uBA54\\uC77C\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n    value: signInfo.email,\n    onChange: handleChangeEmail,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 19\n    }\n  }))), __jsx(FormGroup, {\n    row: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 15\n    }\n  }, __jsx(Label, {\n    \"for\": \"examplePassword\",\n    sm: 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 17\n    }\n  }, \"Password\"), __jsx(Col, {\n    sm: 10,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 17\n    }\n  }, __jsx(Input, {\n    type: \"password\",\n    name: \"password\",\n    id: \"examplePassword\",\n    placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD574 \\uC8FC\\uC138\\uC694\",\n    value: signInfo.password,\n    onChange: handleChangePassword,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 19\n    }\n  }))), __jsx(Input, {\n    outline: true,\n    color: \"info\",\n    type: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 15\n    }\n  }, \"\\uB85C\\uADF8\\uC778\\uD558\\uAE30\")), __jsx(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }\n  }), __jsx(GoogleLoginButton, {\n    clientId: googleKey,\n    onSuccess: googleSuccess,\n    onFailure: failure,\n    cookiePolicy: \"single_host_origin\",\n    buttonText: \"\\uAD6C\\uAE00\\uB85C\\uADF8\\uC778\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }\n  }), __jsx(KakaoLoginButton, {\n    jsKey: kakaoKey,\n    onSuccess: kakaoSuccess,\n    onFailure: failure,\n    getProfile: \"true\",\n    buttonText: \"\\uCE74\\uCE74\\uC624\\uD1A1\\uB85C\\uADF8\\uC778\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }\n  }), __jsx(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }\n  }), __jsx(Col, {\n    md: \"6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }\n  }, \"\\uC544\\uC9C1 \\uD68C\\uC6D0\\uC774 \\uC544\\uB2C8\\uC2E0\\uAC00\\uC694?\"), __jsx(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 13\n    }\n  }, __jsx(JoinButton, {\n    onClick: gotoJoin,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 15\n    }\n  }, \"\\uD68C\\uC6D0\\uAC00\\uC785\\uD558\\uAE30\"))), __jsx(Col, {\n    md: \"2\",\n    xs: \"1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 11\n    }\n  }), __jsx(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 11\n    }\n  }))));\n});\nexport default signin;","map":{"version":3,"sources":["C:/Users/MSI/Desktop/sajubajufront/pages/signin.js"],"names":["React","useContext","useEffect","Container","Row","Col","Form","FormGroup","Label","Input","FormText","Button","styled","KakaoLogin","GoogleLogin","signinUpContext","observer","birthContext","Layout","Link","Router","ButtonWidth","kakaoKey","googleKey","signin","props","signInfo","console","log","JoinOrNot","kakaoId","push","history","kakaoSuccess","response","profile","id","snsNumber","getKakaoLogin","then","name","email","password","data","length","memberYear","year","memberMon","mon","memberDay","day","failure","error","googleSuccess","googleId","getGoogleLogin","naverLogin","getNaverLogin","handleChangeEmail","e","target","value","handleChangePassword","handleSubmit","preventDefault","getGeneralLogin","GoogleLoginButton","KakaoLoginButton","JoinButton","gotoJoin"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,QAA6C,OAA7C;AACA,SACEC,SADF,EAEEC,GAFF,EAGEC,GAHF,EAIEC,IAJF,EAKEC,SALF,EAMEC,KANF,EAOEC,KAPF,EAQEC,QARF,EASEC,MATF,QAUO,YAVP;AAWA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,UAAP,MAAuB,mBAAvB;AACA,OAAOC,WAAP,MAAwB,oBAAxB;AACA,SAASC,eAAT,QAAgC,qBAAhC;AACA,SAASC,QAAT,QAAyB,iBAAzB;AACA,SAASC,YAAT,QAA6B,kBAA7B;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AAEA,IAAMC,WAAW,GAAGT,MAAM,CAACD,MAAD,CAAT;AAAA;AAAA;AAAA,oCAAjB;AAIA,IAAMW,QAAQ,GAAG,kCAAjB;AACA,IAAMC,SAAS,GACb,0EADF;AAEA,IAAMC,MAAM,GAAGR,QAAQ,CAAC,UAACS,KAAD,EAAW;AACjC,MAAMC,QAAQ,GAAGzB,UAAU,CAACc,eAAD,CAA3B,CADiC,CAEjC;;AACAb,EAAAA,SAAS,CAAC,YAAM;AACdyB,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,SAArB;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACI,OAArB;;AACA,QAAIJ,QAAQ,CAACG,SAAT,KAAuB,IAA3B,EAAiC;AAC/B;AACAT,MAAAA,MAAM,CAACW,IAAP,CAAY,UAAZ;AACD,KAHD,MAGO,IAAIL,QAAQ,CAACG,SAAT,KAAuB,KAAvB,IAAgCH,QAAQ,CAACI,OAAT,KAAqB,EAAzD,EAA6D;AAClE;AACAV,MAAAA,MAAM,CAACW,IAAP,CAAY,GAAZ;AACD;AACF,GAVQ,EAUN,CAACL,QAAQ,CAACG,SAAV,EAAqBH,QAAQ,CAACI,OAA9B,EAAuCL,KAAK,CAACO,OAA7C,CAVM,CAAT;;AAWA,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,QAAD,EAAc;AACjCR,IAAAA,QAAQ,CAACI,OAAT,GAAmB,EAAnB;AACAJ,IAAAA,QAAQ,CAACI,OAAT,GAAmBI,QAAQ,CAACC,OAAT,CAAiBC,EAApC;AACAV,IAAAA,QAAQ,CAACW,SAAT,GAAqB,CAArB,CAHiC,CAIjC;AACA;;AACAX,IAAAA,QAAQ,CAACY,aAAT,GAAyBC,IAAzB,CAA8B,UAACL,QAAD,EAAc;AAC1C;AACA;AAEAR,MAAAA,QAAQ,CAACc,IAAT,GAAgB,EAAhB;AACAd,MAAAA,QAAQ,CAACe,KAAT,GAAiB,EAAjB;AACAf,MAAAA,QAAQ,CAACgB,QAAT,GAAoB,EAApB;;AACA,UAAIR,QAAQ,CAACS,IAAT,CAAcC,MAAd,KAAyB,CAA7B,EAAgC;AAC9BlB,QAAAA,QAAQ,CAACG,SAAT,GAAqB,IAArB,CAD8B,CAE9B;AACD,OAHD,MAGO;AACLH,QAAAA,QAAQ,CAACG,SAAT,GAAqB,KAArB;AACAH,QAAAA,QAAQ,CAACc,IAAT,GAAgBN,QAAQ,CAACS,IAAT,CAAc,CAAd,EAAiBH,IAAjC;AACAd,QAAAA,QAAQ,CAACmB,UAAT,GAAsBX,QAAQ,CAACS,IAAT,CAAc,CAAd,EAAiBG,IAAvC;AACApB,QAAAA,QAAQ,CAACqB,SAAT,GAAqBb,QAAQ,CAACS,IAAT,CAAc,CAAd,EAAiBK,GAAtC;AACAtB,QAAAA,QAAQ,CAACuB,SAAT,GAAqBf,QAAQ,CAACS,IAAT,CAAc,CAAd,EAAiBO,GAAtC,CALK,CAML;AACA;AACD;AACF,KAnBD;AAoBD,GA1BD;;AA4BA,MAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,KAAD,EAAW;AACzBzB,IAAAA,OAAO,CAACC,GAAR,CAAYwB,KAAZ;AACD,GAFD;;AAGA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACnB,QAAD,EAAc;AAClCP,IAAAA,OAAO,CAACC,GAAR,CAAYM,QAAZ;AACAR,IAAAA,QAAQ,CAACI,OAAT,GAAmB,EAAnB;AACAJ,IAAAA,QAAQ,CAACI,OAAT,GAAmBI,QAAQ,CAACoB,QAA5B;AACA5B,IAAAA,QAAQ,CAACW,SAAT,GAAqB,CAArB,CAJkC,CAKlC;;AACAV,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACI,OAArB;AACAJ,IAAAA,QAAQ,CAACc,IAAT,GAAgB,EAAhB;AACAd,IAAAA,QAAQ,CAACe,KAAT,GAAiB,EAAjB;AACAf,IAAAA,QAAQ,CAACgB,QAAT,GAAoB,EAApB;AACAhB,IAAAA,QAAQ,CAAC6B,cAAT,GAA0BhB,IAA1B,CAA+B,UAACL,QAAD,EAAc;AAC3CP,MAAAA,OAAO,CAACC,GAAR,CAAYM,QAAQ,CAACS,IAArB;AACAhB,MAAAA,OAAO,CAACC,GAAR,CAAYM,QAAQ,CAACS,IAAT,CAAcC,MAA1B;;AACA,UAAIV,QAAQ,CAACS,IAAT,CAAcC,MAAd,KAAyB,CAA7B,EAAgC;AAC9BlB,QAAAA,QAAQ,CAACG,SAAT,GAAqB,IAArB;AACAF,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAI,CAACC,SAAjB;AACD,OAHD,MAGO;AACLH,QAAAA,QAAQ,CAACG,SAAT,GAAqB,KAArB;AACAH,QAAAA,QAAQ,CAACc,IAAT,GAAgBN,QAAQ,CAACS,IAAT,CAAc,CAAd,EAAiBH,IAAjC;AACAd,QAAAA,QAAQ,CAACmB,UAAT,GAAsBX,QAAQ,CAACS,IAAT,CAAc,CAAd,EAAiBG,IAAvC;AACApB,QAAAA,QAAQ,CAACqB,SAAT,GAAqBb,QAAQ,CAACS,IAAT,CAAc,CAAd,EAAiBK,GAAtC;AACAtB,QAAAA,QAAQ,CAACuB,SAAT,GAAqBf,QAAQ,CAACS,IAAT,CAAc,CAAd,EAAiBO,GAAtC;AACAvB,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAI,CAACY,IAAjB;AACAb,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAI,CAACC,SAAjB;AACD;AACF,KAfD;AAgBD,GA1BD;;AA4BA,MAAM2B,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvB9B,IAAAA,QAAQ,CAAC+B,aAAT;AACD,GAFD;;AAIA,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,CAAD,EAAO;AAC/BjC,IAAAA,QAAQ,CAACe,KAAT,GAAiBkB,CAAC,CAACC,MAAF,CAASC,KAA1B;AACAlC,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACe,KAArB;AACD,GAHD;;AAIA,MAAMqB,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACH,CAAD,EAAO;AAClCjC,IAAAA,QAAQ,CAACgB,QAAT,GAAoBiB,CAAC,CAACC,MAAF,CAASC,KAA7B;AACAlC,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACe,KAArB;AACD,GAHD;;AAIA,MAAMsB,YAAY,GAAG,SAAfA,YAAe,CAACJ,CAAD,EAAO;AAC1BA,IAAAA,CAAC,CAACK,cAAF;AACAtC,IAAAA,QAAQ,CAACuC,eAAT;AACD,GAHD;;AAKA,MAAMC,iBAAiB,GAAGtD,MAAM,CAACE,WAAD,CAAT;AAAA;AAAA;AAAA,uCAAvB;AAIA,MAAMqD,gBAAgB,GAAGvD,MAAM,CAACC,UAAD,CAAT;AAAA;AAAA;AAAA,yGAAtB;AAQA,MAAMuD,UAAU,GAAGxD,MAAM,CAACD,MAAD,CAAT;AAAA;AAAA;AAAA,uCAAhB;;AAIA,MAAM0D,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACrBjD,IAAAA,MAAM,CAACW,IAAP,CAAY,OAAZ;AACD,GAFD;;AAGA,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAK,IAAA,EAAE,EAAC,GAAR;AAAY,IAAA,EAAE,EAAC,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,MAAC,GAAD;AAAK,IAAA,EAAE,EAAC,GAAR;AAAY,IAAA,EAAE,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAM,IAAA,QAAQ,EAAEgC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,SAAD;AAAW,IAAA,GAAG,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,KAAD;AAAO,WAAI,cAAX;AAA0B,IAAA,EAAE,EAAE,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,EAIE,MAAC,GAAD;AAAK,IAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,KAAD;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,EAAE,EAAC,cAHL;AAIE,IAAA,WAAW,EAAC,+DAJd;AAKE,IAAA,KAAK,EAAErC,QAAQ,CAACe,KALlB;AAME,IAAA,QAAQ,EAAEiB,iBANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAJF,CADF,EAgBE,MAAC,SAAD;AAAW,IAAA,GAAG,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,KAAD;AAAO,WAAI,iBAAX;AAA6B,IAAA,EAAE,EAAE,CAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAIE,MAAC,GAAD;AAAK,IAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,KAAD;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,EAAE,EAAC,iBAHL;AAIE,IAAA,WAAW,EAAC,sEAJd;AAKE,IAAA,KAAK,EAAEhC,QAAQ,CAACgB,QALlB;AAME,IAAA,QAAQ,EAAEoB,oBANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAJF,CAhBF,EA+BE,MAAC,KAAD;AAAO,IAAA,OAAO,MAAd;AAAe,IAAA,KAAK,EAAC,MAArB;AAA4B,IAAA,IAAI,EAAC,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCA/BF,CADF,EAoCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IApCF,EAqCE,MAAC,iBAAD;AACE,IAAA,QAAQ,EAAEvC,SADZ;AAEE,IAAA,SAAS,EAAE8B,aAFb;AAGE,IAAA,SAAS,EAAEF,OAHb;AAIE,IAAA,YAAY,EAAE,oBAJhB;AAKE,IAAA,UAAU,EAAC,gCALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArCF,EA4CE,MAAC,gBAAD;AACE,IAAA,KAAK,EAAE7B,QADT;AAEE,IAAA,SAAS,EAAEW,YAFb;AAGE,IAAA,SAAS,EAAEkB,OAHb;AAIE,IAAA,UAAU,EAAC,MAJb;AAKE,IAAA,UAAU,EAAC,4CALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA5CF,EAqDE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArDF,EAuDE,MAAC,GAAD;AAAK,IAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uEAvDF,EAwDE,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,UAAD;AAAY,IAAA,OAAO,EAAEkB,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CADF,CAxDF,CAFF,EA8DE,MAAC,GAAD;AAAK,IAAA,EAAE,EAAC,GAAR;AAAY,IAAA,EAAE,EAAC,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA9DF,EA+DE,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA/DF,CADF,CADF,CADF;AAuED,CApLsB,CAAvB;AAsLA,eAAe7C,MAAf","sourcesContent":["import React, { useContext, useEffect } from \"react\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Form,\r\n  FormGroup,\r\n  Label,\r\n  Input,\r\n  FormText,\r\n  Button,\r\n} from \"reactstrap\";\r\nimport styled from \"styled-components\";\r\nimport KakaoLogin from \"react-kakao-login\";\r\nimport GoogleLogin from \"react-google-login\";\r\nimport { signinUpContext } from \"../context/signinup\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { birthContext } from \"../context/birth\";\r\nimport Layout from \"../component/Layout\";\r\nimport Link from \"next/link\";\r\nimport Router from \"next/router\";\r\n\r\nconst ButtonWidth = styled(Button)`\r\n  width: 100%;\r\n  margin-bottom: 2%;\r\n`;\r\nconst kakaoKey = \"79f4a4e9c21f0d6f7f2a173a3c9e130f\";\r\nconst googleKey =\r\n  \"180058710840-gn5vuk2kpe80r3dgv0aecln9fnvm7lbg.apps.googleusercontent.com\";\r\nconst signin = observer((props) => {\r\n  const signInfo = useContext(signinUpContext);\r\n  //const birthInfo = useContext(birthContext);\r\n  useEffect(() => {\r\n    console.log(signInfo.JoinOrNot);\r\n    console.log(signInfo.kakaoId);\r\n    if (signInfo.JoinOrNot === true) {\r\n      // signInfo.JoinOrNot = \"\";\r\n      Router.push(\"/snsjoin\");\r\n    } else if (signInfo.JoinOrNot === false && signInfo.kakaoId !== \"\") {\r\n      //   signInfo.JoinOrNot = \"\";\r\n      Router.push(\"/\");\r\n    }\r\n  }, [signInfo.JoinOrNot, signInfo.kakaoId, props.history]);\r\n  const kakaoSuccess = (response) => {\r\n    signInfo.kakaoId = \"\";\r\n    signInfo.kakaoId = response.profile.id;\r\n    signInfo.snsNumber = 1;\r\n    // console.log(signInfo.kakaoId);\r\n    //signInfo.JoinOrNot = true;\r\n    signInfo.getKakaoLogin().then((response) => {\r\n      // console.log(response.data);\r\n      //  console.log(response.data.length);\r\n\r\n      signInfo.name = \"\";\r\n      signInfo.email = \"\";\r\n      signInfo.password = \"\";\r\n      if (response.data.length === 0) {\r\n        signInfo.JoinOrNot = true;\r\n        //console.log(this.JoinOrNot);\r\n      } else {\r\n        signInfo.JoinOrNot = false;\r\n        signInfo.name = response.data[0].name;\r\n        signInfo.memberYear = response.data[0].year;\r\n        signInfo.memberMon = response.data[0].mon;\r\n        signInfo.memberDay = response.data[0].day;\r\n        //  console.log(this.name);\r\n        //   console.log(this.JoinOrNot);\r\n      }\r\n    });\r\n  };\r\n\r\n  const failure = (error) => {\r\n    console.log(error);\r\n  };\r\n  const googleSuccess = (response) => {\r\n    console.log(response);\r\n    signInfo.kakaoId = \"\";\r\n    signInfo.kakaoId = response.googleId;\r\n    signInfo.snsNumber = 2;\r\n    // signInfo.JoinOrNot = true;\r\n    console.log(signInfo.kakaoId);\r\n    signInfo.name = \"\";\r\n    signInfo.email = \"\";\r\n    signInfo.password = \"\";\r\n    signInfo.getGoogleLogin().then((response) => {\r\n      console.log(response.data);\r\n      console.log(response.data.length);\r\n      if (response.data.length === 0) {\r\n        signInfo.JoinOrNot = true;\r\n        console.log(this.JoinOrNot);\r\n      } else {\r\n        signInfo.JoinOrNot = false;\r\n        signInfo.name = response.data[0].name;\r\n        signInfo.memberYear = response.data[0].year;\r\n        signInfo.memberMon = response.data[0].mon;\r\n        signInfo.memberDay = response.data[0].day;\r\n        console.log(this.name);\r\n        console.log(this.JoinOrNot);\r\n      }\r\n    });\r\n  };\r\n\r\n  const naverLogin = () => {\r\n    signInfo.getNaverLogin();\r\n  };\r\n\r\n  const handleChangeEmail = (e) => {\r\n    signInfo.email = e.target.value;\r\n    console.log(signInfo.email);\r\n  };\r\n  const handleChangePassword = (e) => {\r\n    signInfo.password = e.target.value;\r\n    console.log(signInfo.email);\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    signInfo.getGeneralLogin();\r\n  };\r\n\r\n  const GoogleLoginButton = styled(GoogleLogin)`\r\n    width: 100%;\r\n    text-align: center;\r\n  `;\r\n  const KakaoLoginButton = styled(KakaoLogin)`\r\n    width: 100%;\r\n    text-align: center;\r\n    background-color: #f9e000;\r\n    padding: 1%;\r\n    border: 0px;\r\n    border-radius: 10px;\r\n  `;\r\n  const JoinButton = styled(Button)`\r\n    width: 100%;\r\n    text-align: center;\r\n  `;\r\n  const gotoJoin = () => {\r\n    Router.push(\"/join\");\r\n  };\r\n  return (\r\n    <Layout>\r\n      <Container>\r\n        <Row>\r\n          <Col md=\"2\" xs=\"1\"></Col>\r\n          <Col md=\"8\" xs=\"10\">\r\n            <Form onSubmit={handleSubmit}>\r\n              <FormGroup row>\r\n                <Label for=\"exampleEmail\" sm={2}>\r\n                  Email\r\n                </Label>\r\n                <Col sm={10}>\r\n                  <Input\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    id=\"exampleEmail\"\r\n                    placeholder=\"이메일을 입력해주세요\"\r\n                    value={signInfo.email}\r\n                    onChange={handleChangeEmail}\r\n                  />\r\n                </Col>\r\n              </FormGroup>\r\n              <FormGroup row>\r\n                <Label for=\"examplePassword\" sm={2}>\r\n                  Password\r\n                </Label>\r\n                <Col sm={10}>\r\n                  <Input\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    id=\"examplePassword\"\r\n                    placeholder=\"비밀번호를 입력해 주세요\"\r\n                    value={signInfo.password}\r\n                    onChange={handleChangePassword}\r\n                  />\r\n                </Col>\r\n              </FormGroup>\r\n              <Input outline color=\"info\" type=\"submit\">\r\n                로그인하기\r\n              </Input>\r\n            </Form>\r\n            <hr />\r\n            <GoogleLoginButton\r\n              clientId={googleKey}\r\n              onSuccess={googleSuccess}\r\n              onFailure={failure}\r\n              cookiePolicy={\"single_host_origin\"}\r\n              buttonText=\"구글로그인\"\r\n            />\r\n            <KakaoLoginButton\r\n              jsKey={kakaoKey}\r\n              onSuccess={kakaoSuccess}\r\n              onFailure={failure}\r\n              getProfile=\"true\"\r\n              buttonText=\"카카오톡로그인\"\r\n            />\r\n\r\n            {/*<ButtonWidth onClick={naverLogin}>네이버</ButtonWidth>*/}\r\n            <hr />\r\n\r\n            <Col md=\"6\">아직 회원이 아니신가요?</Col>\r\n            <Col>\r\n              <JoinButton onClick={gotoJoin}>회원가입하기</JoinButton>\r\n            </Col>\r\n          </Col>\r\n          <Col md=\"2\" xs=\"1\"></Col>\r\n          <Col></Col>\r\n        </Row>\r\n      </Container>\r\n    </Layout>\r\n  );\r\n});\r\n\r\nexport default signin;\r\n"]},"metadata":{},"sourceType":"module"}