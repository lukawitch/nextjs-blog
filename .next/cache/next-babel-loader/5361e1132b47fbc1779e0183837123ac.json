{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MSI\\\\Desktop\\\\sajubaju\\\\pages\\\\result.js\";\nvar __jsx = React.createElement;\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { Row, Col, CustomInput } from \"reactstrap\";\nimport { birthContext } from \"../context/birth\";\nimport Result from \"../component/result/result\";\nimport { useRouter } from \"next/router\";\nimport axios from \"axios\";\nimport styles from \"../component/result/result.module.css\";\nimport ShareButton from \"../component/result/shareButton\";\nimport LoadingPage from \"../component/result/loadingPage\";\n\nconst resultContents = props => {\n  let testValue = 0;\n  const BirthInfo = useContext(birthContext);\n  const router = useRouter();\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  const {\n    0: countNumber,\n    1: setCountNumber\n  } = useState(0); //초기설정\n\n  useEffect(() => {\n    setCountNumber(props.data[0].goodButton);\n    BirthInfo.postGoodOrNot = false;\n    const interval = setInterval(() => {\n      testValue++;\n      setLoadingTime(testValue);\n    }, 380);\n    setTimeout(() => {\n      setLoading(false);\n      clearInterval(interval);\n    }, 3800);\n  }, []); //조아요 버튼 눌렀을때\n\n  const handleChangeGoodOrNot = e => {\n    BirthInfo.postGoodOrNot = !BirthInfo.postGoodOrNot;\n    let value;\n\n    if (BirthInfo.postGoodOrNot === true) {\n      value = countNumber + 1;\n    } else {\n      value = countNumber - 1;\n    }\n\n    axios.get(\"https://hanstream.gabia.io/goodCount\", {\n      params: {\n        count: value,\n        dbName: router.query.dbname\n      }\n    }).then(response => {\n      setCountNumber(value);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  if (loading) return __jsx(LoadingPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 23\n    }\n  }); //Layout\n\n  return __jsx(Result, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: styles.card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    class: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, __jsx(\"img\", {\n    src: \"/image/\" + router.query.dbname + \"/\" + props.data[0].title + \".png\",\n    class: \"card-img-top\",\n    alt: \"...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  })), __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    className: styles.MoreInfoText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, \" \\uBCF5\\uCC44\\uB294 \\uD558\\uD2B8\\uC640 \\uACF5\\uC720\\uB85C! \"), __jsx(ShareButton, {\n    num: props.data[0].num,\n    dbname: router.query.dbname,\n    countNumber: countNumber,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }), __jsx(CustomInput, {\n    type: \"switch\",\n    id: \"exampleCustomSwitch\",\n    name: \"customSwitch\",\n    label: countNumber + \"명이 이테스트를 좋아합니다\",\n    onChange: handleChangeGoodOrNot,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    className: styles.TitlePosition,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, props.data[0].subtitle), props.data[0].contents.split(\"\\n\").map(line => {\n    return __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }, line, __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 15\n      }\n    }));\n  })));\n};\n\nresultContents.getInitialProps = async function ({\n  query\n}) {\n  const res = await axios.get(\"https://hanstream.gabia.io/birth\", {\n    params: {\n      month: query.month,\n      day: query.day,\n      dbName: query.dbname\n    }\n  });\n  const data = await res.data;\n  console.log(data);\n  console.log(`Show data fetched. Count: ${data.length}`);\n  return {\n    data: data\n  };\n};\n\nexport default resultContents;","map":{"version":3,"sources":["C:/Users/MSI/Desktop/sajubaju/pages/result.js"],"names":["React","useContext","useEffect","useState","Row","Col","CustomInput","birthContext","Result","useRouter","axios","styles","ShareButton","LoadingPage","resultContents","props","testValue","BirthInfo","router","loading","setLoading","countNumber","setCountNumber","data","goodButton","postGoodOrNot","interval","setInterval","setLoadingTime","setTimeout","clearInterval","handleChangeGoodOrNot","e","value","get","params","count","dbName","query","dbname","then","response","catch","error","console","log","card","title","MoreInfoText","num","TitlePosition","subtitle","contents","split","map","line","getInitialProps","res","month","day","length"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Row, Col, CustomInput } from \"reactstrap\";\r\nimport { birthContext } from \"../context/birth\";\r\nimport Result from \"../component/result/result\";\r\nimport { useRouter } from \"next/router\";\r\nimport axios from \"axios\";\r\nimport styles from \"../component/result/result.module.css\";\r\nimport ShareButton from \"../component/result/shareButton\";\r\nimport LoadingPage from \"../component/result/loadingPage\";\r\n\r\nconst resultContents = (props) => {\r\n  let testValue = 0;\r\n  const BirthInfo = useContext(birthContext);\r\n  const router = useRouter();\r\n  const [loading, setLoading] = useState(true);\r\n  const [countNumber, setCountNumber] = useState(0);\r\n\r\n  //초기설정\r\n  useEffect(() => {\r\n    setCountNumber(props.data[0].goodButton);\r\n    BirthInfo.postGoodOrNot = false;\r\n    const interval = setInterval(() => {\r\n      testValue++;\r\n      setLoadingTime(testValue);\r\n    }, 380);\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n      clearInterval(interval);\r\n    }, 3800);\r\n  }, []);\r\n  //조아요 버튼 눌렀을때\r\n  const handleChangeGoodOrNot = (e) => {\r\n    BirthInfo.postGoodOrNot = !BirthInfo.postGoodOrNot;\r\n    let value;\r\n    if (BirthInfo.postGoodOrNot === true) {\r\n      value = countNumber + 1;\r\n    } else {\r\n      value = countNumber - 1;\r\n    }\r\n    axios\r\n      .get(\"https://hanstream.gabia.io/goodCount\", {\r\n        params: {\r\n          count: value,\r\n          dbName: router.query.dbname,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        setCountNumber(value);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n  if (loading) return <LoadingPage />;\r\n\r\n  //Layout\r\n  return (\r\n    <Result>\r\n      <div className={styles.card}>\r\n        <div class=\"card\">\r\n          <img\r\n            src={\r\n              \"/image/\" +\r\n              router.query.dbname +\r\n              \"/\" +\r\n              props.data[0].title +\r\n              \".png\"\r\n            }\r\n            class=\"card-img-top\"\r\n            alt=\"...\"\r\n          />\r\n        </div>\r\n\r\n        <hr />\r\n        <div className={styles.MoreInfoText}> 복채는 하트와 공유로! </div>\r\n        {/*공유버튼*/}\r\n        <ShareButton\r\n          num={props.data[0].num}\r\n          dbname={router.query.dbname}\r\n          countNumber={countNumber}\r\n        />\r\n        {/*좋아요버튼 나중에 수정할 예정. */}\r\n        <CustomInput\r\n          type=\"switch\"\r\n          id=\"exampleCustomSwitch\"\r\n          name=\"customSwitch\"\r\n          label={countNumber + \"명이 이테스트를 좋아합니다\"}\r\n          onChange={handleChangeGoodOrNot}\r\n        />\r\n        {/*타이틀 */}\r\n        <div className={styles.TitlePosition}>{props.data[0].subtitle}</div>\r\n        {/*내용 */}\r\n        {props.data[0].contents.split(\"\\n\").map((line) => {\r\n          return (\r\n            <span>\r\n              {line}\r\n              <br />\r\n            </span>\r\n          );\r\n        })}\r\n      </div>\r\n    </Result>\r\n  );\r\n};\r\nresultContents.getInitialProps = async function ({ query }) {\r\n  const res = await axios.get(\"https://hanstream.gabia.io/birth\", {\r\n    params: {\r\n      month: query.month,\r\n      day: query.day,\r\n      dbName: query.dbname,\r\n    },\r\n  });\r\n  const data = await res.data;\r\n\r\n  console.log(data);\r\n\r\n  console.log(`Show data fetched. Count: ${data.length}`);\r\n  return {\r\n    data: data,\r\n  };\r\n};\r\nexport default resultContents;\r\n"]},"metadata":{},"sourceType":"module"}