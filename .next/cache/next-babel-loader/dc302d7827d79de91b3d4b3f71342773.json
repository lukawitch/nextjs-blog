{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\MSI\\\\Desktop\\\\sajubajufront\\\\pages\\\\result.js\";\n\nvar __jsx = React.createElement;\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { Card, CardImg, Row, Col, Button, Popover, PopoverHeader, PopoverBody, Progress, CustomInput } from \"reactstrap\"; //import ResultImage from \"./TestName_1.png\";\n\nimport styled from \"styled-components\";\nimport GoodButton from \"../component/goodButton\";\nimport { birthContext } from \"../context/birth\";\nimport { signinUpContext } from \"../context/signinup\";\nimport Result from \"../component/result\";\nimport { useRouter } from \"next/router\";\nimport axios from \"axios\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport TwitterImage from \"./twitter.png\";\nimport FacebookImage from \"./facebook.png\";\nimport KakaoImage from \"./kakaotalk.png\";\nimport LinkImage from \"./link.png\";\nimport SignIn from \"../component/signin\";\nimport ReactPixel from \"react-facebook-pixel\";\n\nvar resultContents = function resultContents(props) {\n  var testValue = 0;\n  var BirthInfo = useContext(birthContext);\n  var signInfo = useContext(signinUpContext);\n  var router = useRouter();\n\n  var _useState = useState(false),\n      popoverOpen = _useState[0],\n      setPopoverOpen = _useState[1];\n\n  var _useState2 = useState(true),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(0),\n      loadingTime = _useState3[0],\n      setLoadingTime = _useState3[1];\n\n  var _useState4 = useState(0),\n      countNumber = _useState4[0],\n      setCountNumber = _useState4[1];\n\n  var postLink = \"https://sajubaju.com/birth?num=\" + props.data[0].num; // const postLink = \"https://sajubaju.lukawitch.now.sh\" + router.asPath;\n\n  var twitterLink = \"https://twitter.com/intent/tweet?url=\" + postLink;\n  var facebookLink = \"http://www.facebook.com/sharer/sharer.php?u=\" + postLink;\n  var imageLink = \"https://sajubaju.com/image/\" + router.query.dbname + \".png\";\n  useEffect(function () {\n    console.log(router);\n    setCountNumber(props.data[0].goodButton);\n    BirthInfo.postGoodOrNot = false;\n    var options = {\n      autoConfig: true,\n      // set pixel's autoConfig\n      debug: false // enable logs\n\n    };\n    ReactPixel.init(\"273549143770693\", options);\n    var interval = setInterval(function () {\n      testValue++;\n      setLoadingTime(testValue);\n      console.log(loadingTime);\n      console.log(testValue);\n    }, 380);\n    setTimeout(function () {\n      setLoading(false); //  BirthInfo.getContentsSearch();\n\n      clearInterval(interval);\n    }, 3800);\n  }, []);\n\n  var toggle = function toggle() {\n    return setPopoverOpen(!popoverOpen);\n  };\n\n  var TitlePosition = styled.div.withConfig({\n    displayName: \"result__TitlePosition\",\n    componentId: \"wphngf-0\"\n  })([\"font-size:1.8em;margin:5% 0;font-weight:bold;\"]);\n  var ResultContents = styled.div.withConfig({\n    displayName: \"result__ResultContents\",\n    componentId: \"wphngf-1\"\n  })([\"font-size:110%;\"]);\n  var MoreInfoText = styled.div.withConfig({\n    displayName: \"result__MoreInfoText\",\n    componentId: \"wphngf-2\"\n  })([\"font-size:1.8em;font-weight:bold;text-align:center;margin-bottom:5%;\"]);\n\n  var handleChangeGoodOrNot = function handleChangeGoodOrNot(e) {\n    BirthInfo.postGoodOrNot = !BirthInfo.postGoodOrNot;\n    alert(BirthInfo.postGoodOrNot);\n    console.log(BirthInfo.dbName);\n    var value;\n\n    if (BirthInfo.postGoodOrNot === true) {\n      value = countNumber + 1;\n    } else {\n      value = countNumber - 1;\n    }\n\n    axios.get(\"https://hanstream.gabia.io/goodCount\", {\n      params: {\n        count: value,\n        dbName: router.query.dbname\n      }\n    }).then(function (response) {\n      console.log(response);\n      setCountNumber(value);\n      console.log(countNumber);\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n  };\n\n  var copyAlert = function copyAlert() {\n    alert(\"링크복사가 완료되었습니다\");\n    ReactPixel.track(\"Share\");\n  };\n\n  var kakaoSharePixel = function kakaoSharePixel() {};\n\n  var twitterSharePixel = function twitterSharePixel() {\n    ReactPixel.track(\"twitterShare\");\n  };\n\n  var facebookSharePixel = function facebookSharePixel() {\n    ReactPixel.track(\"facebookShare\");\n  };\n\n  var LoadingPosition = styled.div.withConfig({\n    displayName: \"result__LoadingPosition\",\n    componentId: \"wphngf-3\"\n  })([\"display:flex;align-content:center;\"]);\n  if (loading) return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }, __jsx(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, __jsx(Col, {\n    md: \"3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }), __jsx(Col, {\n    md: \"6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }, __jsx(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, \"\\uC77C\\uBD80\\uB7EC \\uC548\\uBCF4\\uC774\\uB294\\uCC99 \\uD558\\uB294\\uC911...\"), __jsx(\"img\", {\n    src: \"/image/loading.gif\",\n    \"class\": \"card-img-top\",\n    alt: \"...\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  })), __jsx(Col, {\n    md: \"3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  })));\n  console.log(props.data[0].imageLink);\n\n  var sendKakao = function sendKakao() {\n    console.log(\"ss\");\n    ReactPixel.track(\"kakaoShare\");\n    console.log(window.Kakao.Link.createDefaultButton);\n    window.Kakao.init(\"79f4a4e9c21f0d6f7f2a173a3c9e130f\"); //\n\n    window.Kakao.Link.createDefaultButton({\n      container: \"#kakao-link-btn\",\n      objectType: \"feed\",\n      content: {\n        title: props.data[0].listtitle,\n        description: \"더많은 테스트를보고싶으면\",\n        imageUrl: imageLink,\n        link: {\n          //webUrl: postLink,\n          mobileWebUrl: postLink,\n          androidExecParams: \"test\"\n        }\n      },\n      buttons: [{\n        title: \"자세히보기\",\n        link: {\n          //webUrl: postLink,\n          mobileWebUrl: postLink\n        }\n      }],\n      success: function success(response) {\n        console.log(response);\n      },\n      fail: function fail(error) {\n        console.log(error);\n      }\n    });\n  };\n\n  return __jsx(Result, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    \"class\": \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    \"class\": \"col-md-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    \"class\": \"col-md-6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    \"class\": \"card\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 11\n    }\n  }, __jsx(\"img\", {\n    src: \"/image/\" + router.query.dbname + \"/\" + props.data[0].title + \".png\",\n    \"class\": \"card-img-top\",\n    alt: \"...\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 13\n    }\n  }))), __jsx(\"div\", {\n    \"class\": \"col-md-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }\n  })), __jsx(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }\n  }), __jsx(MoreInfoText, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }\n  }, \" \\uBCF5\\uCC44\\uB294 \\uD558\\uD2B8\\uC640 \\uACF5\\uC720\\uB85C! \"), __jsx(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }\n  }, __jsx(Col, {\n    md: \"4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 9\n    }\n  }), __jsx(Col, {\n    xs: \"3\",\n    md: \"1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    id: \"kakao-link-btn\",\n    onClick: sendKakao,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 11\n    }\n  }, __jsx(\"img\", {\n    src: KakaoImage,\n    alt: \"..\",\n    \"class\": \"card-img-top\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }\n  }))), __jsx(Col, {\n    xs: \"3\",\n    md: \"1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 9\n    }\n  }, __jsx(\"a\", {\n    href: twitterLink,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 11\n    }\n  }, __jsx(\"img\", {\n    src: TwitterImage,\n    alt: \"..\",\n    \"class\": \"card-img-top\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }\n  }))), __jsx(Col, {\n    xs: \"3\",\n    md: \"1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }\n  }, __jsx(\"a\", {\n    href: facebookLink,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 11\n    }\n  }, \" \", __jsx(\"img\", {\n    src: FacebookImage,\n    alt: \"..\",\n    \"class\": \"card-img-top\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }\n  }))), __jsx(Col, {\n    xs: \"3\",\n    md: \"1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 9\n    }\n  }, __jsx(CopyToClipboard, {\n    text: postLink,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 11\n    }\n  }, __jsx(\"img\", {\n    src: LinkImage,\n    alt: \"..\",\n    \"class\": \"card-img-top\",\n    onClick: copyAlert,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 13\n    }\n  }))), __jsx(Col, {\n    md: \"4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 9\n    }\n  })), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }\n  }), __jsx(CustomInput, {\n    type: \"switch\",\n    id: \"exampleCustomSwitch\",\n    name: \"customSwitch\",\n    label: countNumber + \"명이 이테스트를 좋아합니다\",\n    onChange: handleChangeGoodOrNot,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }\n  }), __jsx(TitlePosition, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }\n  }, props.data[0].subtitle), __jsx(ResultContents, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }\n  }, props.data[0].contents), __jsx(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }\n  }), signInfo.kakaoId == \"\" && signInfo.email == \"\" ? __jsx(SignIn, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 57\n    }\n  }) : __jsx(React.Fragment, null));\n};\n\nresultContents.getInitialProps = function _callee(_ref) {\n  var query, res, data;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          query = _ref.query;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(axios.get(\"https://hanstream.gabia.io/birth\", {\n            //const res = await axios.get(\"http://localhost:8001/resultValue\", {\n            params: {\n              month: query.month,\n              day: query.day,\n              dbName: query.dbname\n            }\n          }));\n\n        case 3:\n          res = _context.sent;\n          _context.next = 6;\n          return _regeneratorRuntime.awrap(res.data);\n\n        case 6:\n          data = _context.sent;\n          console.log(data);\n          console.log(\"Show data fetched. Count: \".concat(data.length));\n          return _context.abrupt(\"return\", {\n            data: data\n          });\n\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport default resultContents;","map":{"version":3,"sources":["C:/Users/MSI/Desktop/sajubajufront/pages/result.js"],"names":["React","useContext","useEffect","useState","Card","CardImg","Row","Col","Button","Popover","PopoverHeader","PopoverBody","Progress","CustomInput","styled","GoodButton","birthContext","signinUpContext","Result","useRouter","axios","CopyToClipboard","TwitterImage","FacebookImage","KakaoImage","LinkImage","SignIn","ReactPixel","resultContents","props","testValue","BirthInfo","signInfo","router","popoverOpen","setPopoverOpen","loading","setLoading","loadingTime","setLoadingTime","countNumber","setCountNumber","postLink","data","num","twitterLink","facebookLink","imageLink","query","dbname","console","log","goodButton","postGoodOrNot","options","autoConfig","debug","init","interval","setInterval","setTimeout","clearInterval","toggle","TitlePosition","div","ResultContents","MoreInfoText","handleChangeGoodOrNot","e","alert","dbName","value","get","params","count","then","response","error","copyAlert","track","kakaoSharePixel","twitterSharePixel","facebookSharePixel","LoadingPosition","sendKakao","window","Kakao","Link","createDefaultButton","container","objectType","content","title","listtitle","description","imageUrl","link","mobileWebUrl","androidExecParams","buttons","success","fail","subtitle","contents","kakaoId","email","getInitialProps","month","day","res","length"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport {\r\n  Card,\r\n  CardImg,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Popover,\r\n  PopoverHeader,\r\n  PopoverBody,\r\n  Progress,\r\n  CustomInput,\r\n} from \"reactstrap\";\r\n//import ResultImage from \"./TestName_1.png\";\r\nimport styled from \"styled-components\";\r\nimport GoodButton from \"../component/goodButton\";\r\n\r\nimport { birthContext } from \"../context/birth\";\r\nimport { signinUpContext } from \"../context/signinup\";\r\nimport Result from \"../component/result\";\r\nimport { useRouter } from \"next/router\";\r\nimport axios from \"axios\";\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\r\nimport TwitterImage from \"./twitter.png\";\r\nimport FacebookImage from \"./facebook.png\";\r\nimport KakaoImage from \"./kakaotalk.png\";\r\nimport LinkImage from \"./link.png\";\r\nimport SignIn from \"../component/signin\";\r\nimport ReactPixel from \"react-facebook-pixel\";\r\n\r\nconst resultContents = (props) => {\r\n  let testValue = 0;\r\n  const BirthInfo = useContext(birthContext);\r\n  const signInfo = useContext(signinUpContext);\r\n  const router = useRouter();\r\n  const [popoverOpen, setPopoverOpen] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [loadingTime, setLoadingTime] = useState(0);\r\n  const [countNumber, setCountNumber] = useState(0);\r\n  const postLink = \"https://sajubaju.com/birth?num=\" + props.data[0].num;\r\n  // const postLink = \"https://sajubaju.lukawitch.now.sh\" + router.asPath;\r\n  const twitterLink = \"https://twitter.com/intent/tweet?url=\" + postLink;\r\n  const facebookLink =\r\n    \"http://www.facebook.com/sharer/sharer.php?u=\" + postLink;\r\n  const imageLink =\r\n    \"https://sajubaju.com/image/\" + router.query.dbname + \".png\";\r\n  useEffect(() => {\r\n    console.log(router);\r\n    setCountNumber(props.data[0].goodButton);\r\n    BirthInfo.postGoodOrNot = false;\r\n    const options = {\r\n      autoConfig: true, // set pixel's autoConfig\r\n      debug: false, // enable logs\r\n    };\r\n    ReactPixel.init(\"273549143770693\", options);\r\n    const interval = setInterval(() => {\r\n      testValue++;\r\n      setLoadingTime(testValue);\r\n      console.log(loadingTime);\r\n      console.log(testValue);\r\n    }, 380);\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n      //  BirthInfo.getContentsSearch();\r\n      clearInterval(interval);\r\n    }, 3800);\r\n  }, []);\r\n  const toggle = () => setPopoverOpen(!popoverOpen);\r\n  const TitlePosition = styled.div`\r\n    font-size: 1.8em;\r\n    margin: 5% 0;\r\n    font-weight: bold;\r\n  `;\r\n  const ResultContents = styled.div`\r\n    font-size: 110%;\r\n  `;\r\n\r\n  const MoreInfoText = styled.div`\r\n    font-size: 1.8em;\r\n    font-weight: bold;\r\n    text-align: center;\r\n    margin-bottom: 5%;\r\n  `;\r\n  const handleChangeGoodOrNot = (e) => {\r\n    BirthInfo.postGoodOrNot = !BirthInfo.postGoodOrNot;\r\n    alert(BirthInfo.postGoodOrNot);\r\n    console.log(BirthInfo.dbName);\r\n    let value;\r\n    if (BirthInfo.postGoodOrNot === true) {\r\n      value = countNumber + 1;\r\n    } else {\r\n      value = countNumber - 1;\r\n    }\r\n    axios\r\n      .get(\"https://hanstream.gabia.io/goodCount\", {\r\n        params: {\r\n          count: value,\r\n          dbName: router.query.dbname,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        console.log(response);\r\n        setCountNumber(value);\r\n        console.log(countNumber);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n  const copyAlert = () => {\r\n    alert(\"링크복사가 완료되었습니다\");\r\n    ReactPixel.track(\"Share\");\r\n  };\r\n  const kakaoSharePixel = () => {};\r\n  const twitterSharePixel = () => {\r\n    ReactPixel.track(\"twitterShare\");\r\n  };\r\n  const facebookSharePixel = () => {\r\n    ReactPixel.track(\"facebookShare\");\r\n  };\r\n  const LoadingPosition = styled.div`\r\n    display: flex;\r\n    align-content: center;\r\n  `;\r\n  if (loading)\r\n    return (\r\n      <div>\r\n        <Row>\r\n          <Col md=\"3\"></Col>\r\n          <Col md=\"6\">\r\n            <h3>일부러 안보이는척 하는중...</h3>\r\n            {/*<Progress animated color=\"info\" value={loadingTime} max={10} />*/}\r\n            <img src={\"/image/loading.gif\"} class=\"card-img-top\" alt=\"...\" />\r\n          </Col>\r\n          <Col md=\"3\"></Col>\r\n        </Row>\r\n      </div>\r\n    );\r\n  console.log(props.data[0].imageLink);\r\n  const sendKakao = () => {\r\n    console.log(\"ss\");\r\n    ReactPixel.track(\"kakaoShare\");\r\n    console.log(window.Kakao.Link.createDefaultButton);\r\n\r\n    window.Kakao.init(\"79f4a4e9c21f0d6f7f2a173a3c9e130f\");\r\n\r\n    //\r\n    window.Kakao.Link.createDefaultButton({\r\n      container: \"#kakao-link-btn\",\r\n      objectType: \"feed\",\r\n      content: {\r\n        title: props.data[0].listtitle,\r\n        description: \"더많은 테스트를보고싶으면\",\r\n        imageUrl: imageLink,\r\n        link: {\r\n          //webUrl: postLink,\r\n          mobileWebUrl: postLink,\r\n          androidExecParams: \"test\",\r\n        },\r\n      },\r\n\r\n      buttons: [\r\n        {\r\n          title: \"자세히보기\",\r\n          link: {\r\n            //webUrl: postLink,\r\n            mobileWebUrl: postLink,\r\n          },\r\n        },\r\n      ],\r\n      success: function (response) {\r\n        console.log(response);\r\n      },\r\n      fail: function (error) {\r\n        console.log(error);\r\n      },\r\n    });\r\n  };\r\n  return (\r\n    <Result>\r\n      <div class=\"row\">\r\n        <div class=\"col-md-3\"></div>\r\n        <div class=\"col-md-6\">\r\n          <div class=\"card\">\r\n            <img\r\n              src={\r\n                \"/image/\" +\r\n                router.query.dbname +\r\n                \"/\" +\r\n                props.data[0].title +\r\n                \".png\"\r\n              }\r\n              class=\"card-img-top\"\r\n              alt=\"...\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-3\"></div>\r\n      </div>\r\n      <hr />\r\n      <MoreInfoText> 복채는 하트와 공유로! </MoreInfoText>\r\n      <Row>\r\n        <Col md=\"4\"></Col>\r\n        <Col xs=\"3\" md=\"1\">\r\n          <div id=\"kakao-link-btn\" onClick={sendKakao}>\r\n            <img src={KakaoImage} alt=\"..\" class=\"card-img-top\" />\r\n          </div>\r\n        </Col>\r\n        <Col xs=\"3\" md=\"1\">\r\n          <a href={twitterLink}>\r\n            <img src={TwitterImage} alt=\"..\" class=\"card-img-top\" />\r\n          </a>\r\n        </Col>\r\n        <Col xs=\"3\" md=\"1\">\r\n          <a href={facebookLink}>\r\n            {\" \"}\r\n            <img src={FacebookImage} alt=\"..\" class=\"card-img-top\" />\r\n          </a>\r\n        </Col>\r\n        <Col xs=\"3\" md=\"1\">\r\n          <CopyToClipboard text={postLink}>\r\n            <img\r\n              src={LinkImage}\r\n              alt=\"..\"\r\n              class=\"card-img-top\"\r\n              onClick={copyAlert}\r\n            />\r\n          </CopyToClipboard>\r\n        </Col>\r\n        <Col md=\"4\"></Col>\r\n      </Row>\r\n      <br />\r\n      <CustomInput\r\n        type=\"switch\"\r\n        id=\"exampleCustomSwitch\"\r\n        name=\"customSwitch\"\r\n        label={countNumber + \"명이 이테스트를 좋아합니다\"}\r\n        onChange={handleChangeGoodOrNot}\r\n      />\r\n      <TitlePosition>{props.data[0].subtitle}</TitlePosition>\r\n      <ResultContents>{props.data[0].contents}</ResultContents>\r\n      <hr />\r\n      {signInfo.kakaoId == \"\" && signInfo.email == \"\" ? <SignIn /> : <></>}\r\n      {/*<hr />\r\n      <MoreInfoText> 더 많은 테스트 보기</MoreInfoText>*/}\r\n    </Result>\r\n  );\r\n};\r\nresultContents.getInitialProps = async function ({ query }) {\r\n  //const url = require(\"url\");\r\n  //console.log(url);\r\n  //  console.log(query.id);\r\n  const res = await axios.get(\"https://hanstream.gabia.io/birth\", {\r\n    //const res = await axios.get(\"http://localhost:8001/resultValue\", {\r\n    params: {\r\n      month: query.month,\r\n      day: query.day,\r\n      dbName: query.dbname,\r\n    },\r\n  });\r\n  const data = await res.data;\r\n\r\n  console.log(data);\r\n\r\n  console.log(`Show data fetched. Count: ${data.length}`);\r\n  return {\r\n    data: data,\r\n  };\r\n};\r\nexport default resultContents;\r\n"]},"metadata":{},"sourceType":"module"}