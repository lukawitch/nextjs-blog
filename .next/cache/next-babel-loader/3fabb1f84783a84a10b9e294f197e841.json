{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MSI\\\\Desktop\\\\sajubaju\\\\pages\\\\result.js\";\nvar __jsx = React.createElement;\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { Row, Col, CustomInput } from \"reactstrap\";\nimport { birthContext } from \"../context/birth\";\nimport Result from \"../component/result\";\nimport { useRouter } from \"next/router\";\nimport axios from \"axios\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport TwitterImage from \"./twitter.png\";\nimport FacebookImage from \"./facebook.png\";\nimport KakaoImage from \"./kakaotalk.png\";\nimport LinkImage from \"./link.png\";\nimport styles from \"../component/result.module.css\";\n\nconst resultContents = props => {\n  let testValue = 0;\n  const BirthInfo = useContext(birthContext);\n  const router = useRouter();\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  const {\n    0: loadingTime,\n    1: setLoadingTime\n  } = useState(0);\n  const {\n    0: countNumber,\n    1: setCountNumber\n  } = useState(0);\n  const postLink = \"https://sajubaju.com/birth?num=\" + props.data[0].num; // const postLink = \"https://sajubaju.lukawitch.now.sh\" + router.asPath;\n\n  const twitterLink = \"https://twitter.com/intent/tweet?url=\" + postLink;\n  const facebookLink = \"http://www.facebook.com/sharer/sharer.php?u=\" + postLink;\n  const imageLink = \"https://sajubaju.com/image/\" + router.query.dbname + \".png\";\n  useEffect(() => {\n    console.log(router);\n    setCountNumber(props.data[0].goodButton);\n    BirthInfo.postGoodOrNot = false; //window.Kakao.init(\"79f4a4e9c21f0d6f7f2a173a3c9e130f\");\n\n    const interval = setInterval(() => {\n      testValue++;\n      setLoadingTime(testValue);\n      console.log(loadingTime);\n      console.log(testValue);\n    }, 380);\n    setTimeout(() => {\n      setLoading(false);\n      clearInterval(interval);\n    }, 3800);\n  }, []);\n\n  const handleChangeGoodOrNot = e => {\n    BirthInfo.postGoodOrNot = !BirthInfo.postGoodOrNot;\n    let value;\n\n    if (BirthInfo.postGoodOrNot === true) {\n      value = countNumber + 1;\n    } else {\n      value = countNumber - 1;\n    }\n\n    axios.get(\"https://hanstream.gabia.io/goodCount\", {\n      params: {\n        count: value,\n        dbName: router.query.dbname\n      }\n    }).then(response => {\n      console.log(response);\n      setCountNumber(value);\n      console.log(countNumber);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const copyAlert = () => {\n    alert(\"링크복사가 완료되었습니다\");\n  };\n\n  if (loading) return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, __jsx(Col, {\n    md: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }), __jsx(Col, {\n    md: \"6\",\n    xs: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, \"\\uC77C\\uBD80\\uB7EC \\uC548\\uBCF4\\uC774\\uB294\\uCC99 \\uD558\\uB294\\uC911...\"), __jsx(\"img\", {\n    src: \"/image/loading.gif\",\n    class: \"card-img-top\",\n    alt: \"...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  })), __jsx(Col, {\n    md: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  })));\n\n  const sendKakao = () => {\n    window.Kakao.Link.createDefaultButton({\n      container: \"#kakao-link-btn\",\n      objectType: \"feed\",\n      content: {\n        title: props.data[0].listtitle,\n        description: \"더많은 테스트를보고싶으면\",\n        imageUrl: imageLink,\n        link: {\n          //webUrl: postLink,\n          mobileWebUrl: postLink,\n          androidExecParams: \"test\"\n        }\n      },\n      buttons: [{\n        title: \"자세히보기\",\n        link: {\n          //webUrl: postLink,\n          mobileWebUrl: postLink\n        }\n      }],\n      success: function (response) {\n        console.log(response);\n      },\n      fail: function (error) {\n        console.log(error);\n      }\n    });\n  };\n\n  return __jsx(Result, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: styles.card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    class: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, __jsx(\"img\", {\n    src: \"/image/\" + router.query.dbname + \"/\" + props.data[0].title + \".png\",\n    class: \"card-img-top\",\n    alt: \"...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  })), __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    className: styles.MoreInfoText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }, \" \\uBCF5\\uCC44\\uB294 \\uD558\\uD2B8\\uC640 \\uACF5\\uC720\\uB85C! \"), __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, __jsx(Col, {\n    md: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }), __jsx(Col, {\n    xs: \"3\",\n    md: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    id: \"kakao-link-btn\",\n    onClick: sendKakao,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    src: KakaoImage,\n    alt: \"..\",\n    class: \"card-img-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 15\n    }\n  }))), __jsx(Col, {\n    xs: \"3\",\n    md: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  }, __jsx(\"a\", {\n    href: twitterLink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    src: TwitterImage,\n    alt: \"..\",\n    class: \"card-img-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 15\n    }\n  }))), __jsx(Col, {\n    xs: \"3\",\n    md: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  }, __jsx(\"a\", {\n    href: facebookLink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, \" \", __jsx(\"img\", {\n    src: FacebookImage,\n    alt: \"..\",\n    class: \"card-img-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 15\n    }\n  }))), __jsx(Col, {\n    xs: \"3\",\n    md: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 11\n    }\n  }, __jsx(CopyToClipboard, {\n    text: postLink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    src: LinkImage,\n    alt: \"..\",\n    class: \"card-img-top\",\n    onClick: copyAlert,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 15\n    }\n  }))), __jsx(Col, {\n    md: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 11\n    }\n  })), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }), __jsx(CustomInput, {\n    type: \"switch\",\n    id: \"exampleCustomSwitch\",\n    name: \"customSwitch\",\n    label: countNumber + \"명이 이테스트를 좋아합니다\",\n    onChange: handleChangeGoodOrNot,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    className: styles.TitlePosition,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }\n  }, props.data[0].subtitle), props.data[0].contents.split(\"\\n\").map(line => {\n    return __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 13\n      }\n    }, line, __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 15\n      }\n    }));\n  })));\n};\n\nresultContents.getInitialProps = async function ({\n  query\n}) {\n  const res = await axios.get(\"https://hanstream.gabia.io/birth\", {\n    params: {\n      month: query.month,\n      day: query.day,\n      dbName: query.dbname\n    }\n  });\n  const data = await res.data;\n  console.log(data);\n  console.log(`Show data fetched. Count: ${data.length}`);\n  return {\n    data: data\n  };\n};\n\nexport default resultContents;","map":{"version":3,"sources":["C:/Users/MSI/Desktop/sajubaju/pages/result.js"],"names":["React","useContext","useEffect","useState","Row","Col","CustomInput","birthContext","Result","useRouter","axios","CopyToClipboard","TwitterImage","FacebookImage","KakaoImage","LinkImage","styles","resultContents","props","testValue","BirthInfo","router","loading","setLoading","loadingTime","setLoadingTime","countNumber","setCountNumber","postLink","data","num","twitterLink","facebookLink","imageLink","query","dbname","console","log","goodButton","postGoodOrNot","interval","setInterval","setTimeout","clearInterval","handleChangeGoodOrNot","e","value","get","params","count","dbName","then","response","catch","error","copyAlert","alert","sendKakao","window","Kakao","Link","createDefaultButton","container","objectType","content","title","listtitle","description","imageUrl","link","mobileWebUrl","androidExecParams","buttons","success","fail","card","MoreInfoText","TitlePosition","subtitle","contents","split","map","line","getInitialProps","res","month","day","length"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Row, Col, CustomInput } from \"reactstrap\";\r\nimport { birthContext } from \"../context/birth\";\r\nimport Result from \"../component/result\";\r\nimport { useRouter } from \"next/router\";\r\nimport axios from \"axios\";\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\r\nimport TwitterImage from \"./twitter.png\";\r\nimport FacebookImage from \"./facebook.png\";\r\nimport KakaoImage from \"./kakaotalk.png\";\r\nimport LinkImage from \"./link.png\";\r\nimport styles from \"../component/result.module.css\";\r\n\r\nconst resultContents = (props) => {\r\n  let testValue = 0;\r\n  const BirthInfo = useContext(birthContext);\r\n  const router = useRouter();\r\n  const [loading, setLoading] = useState(true);\r\n  const [loadingTime, setLoadingTime] = useState(0);\r\n  const [countNumber, setCountNumber] = useState(0);\r\n  const postLink = \"https://sajubaju.com/birth?num=\" + props.data[0].num;\r\n  // const postLink = \"https://sajubaju.lukawitch.now.sh\" + router.asPath;\r\n  const twitterLink = \"https://twitter.com/intent/tweet?url=\" + postLink;\r\n  const facebookLink =\r\n    \"http://www.facebook.com/sharer/sharer.php?u=\" + postLink;\r\n  const imageLink =\r\n    \"https://sajubaju.com/image/\" + router.query.dbname + \".png\";\r\n  useEffect(() => {\r\n    console.log(router);\r\n    setCountNumber(props.data[0].goodButton);\r\n    BirthInfo.postGoodOrNot = false;\r\n    //window.Kakao.init(\"79f4a4e9c21f0d6f7f2a173a3c9e130f\");\r\n    const interval = setInterval(() => {\r\n      testValue++;\r\n      setLoadingTime(testValue);\r\n      console.log(loadingTime);\r\n      console.log(testValue);\r\n    }, 380);\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n      clearInterval(interval);\r\n    }, 3800);\r\n  }, []);\r\n\r\n  const handleChangeGoodOrNot = (e) => {\r\n    BirthInfo.postGoodOrNot = !BirthInfo.postGoodOrNot;\r\n    let value;\r\n    if (BirthInfo.postGoodOrNot === true) {\r\n      value = countNumber + 1;\r\n    } else {\r\n      value = countNumber - 1;\r\n    }\r\n    axios\r\n      .get(\"https://hanstream.gabia.io/goodCount\", {\r\n        params: {\r\n          count: value,\r\n          dbName: router.query.dbname,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        console.log(response);\r\n        setCountNumber(value);\r\n        console.log(countNumber);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n  const copyAlert = () => {\r\n    alert(\"링크복사가 완료되었습니다\");\r\n  };\r\n  if (loading)\r\n    return (\r\n      <div>\r\n        <Row>\r\n          <Col md=\"3\"></Col>\r\n          <Col md=\"6\" xs=\"12\">\r\n            <h3>일부러 안보이는척 하는중...</h3>\r\n            <img src={\"/image/loading.gif\"} class=\"card-img-top\" alt=\"...\" />\r\n          </Col>\r\n          <Col md=\"3\"></Col>\r\n        </Row>\r\n      </div>\r\n    );\r\n  const sendKakao = () => {\r\n    window.Kakao.Link.createDefaultButton({\r\n      container: \"#kakao-link-btn\",\r\n      objectType: \"feed\",\r\n      content: {\r\n        title: props.data[0].listtitle,\r\n        description: \"더많은 테스트를보고싶으면\",\r\n        imageUrl: imageLink,\r\n        link: {\r\n          //webUrl: postLink,\r\n          mobileWebUrl: postLink,\r\n          androidExecParams: \"test\",\r\n        },\r\n      },\r\n\r\n      buttons: [\r\n        {\r\n          title: \"자세히보기\",\r\n          link: {\r\n            //webUrl: postLink,\r\n            mobileWebUrl: postLink,\r\n          },\r\n        },\r\n      ],\r\n      success: function (response) {\r\n        console.log(response);\r\n      },\r\n      fail: function (error) {\r\n        console.log(error);\r\n      },\r\n    });\r\n  };\r\n  return (\r\n    <Result>\r\n      <div className={styles.card}>\r\n        <div class=\"card\">\r\n          <img\r\n            src={\r\n              \"/image/\" +\r\n              router.query.dbname +\r\n              \"/\" +\r\n              props.data[0].title +\r\n              \".png\"\r\n            }\r\n            class=\"card-img-top\"\r\n            alt=\"...\"\r\n          />\r\n        </div>\r\n\r\n        <hr />\r\n        <div className={styles.MoreInfoText}> 복채는 하트와 공유로! </div>\r\n        <Row>\r\n          <Col md=\"2\"></Col>\r\n          <Col xs=\"3\" md=\"2\">\r\n            <div id=\"kakao-link-btn\" onClick={sendKakao}>\r\n              <img src={KakaoImage} alt=\"..\" class=\"card-img-top\" />\r\n            </div>\r\n          </Col>\r\n          <Col xs=\"3\" md=\"2\">\r\n            <a href={twitterLink}>\r\n              <img src={TwitterImage} alt=\"..\" class=\"card-img-top\" />\r\n            </a>\r\n          </Col>\r\n          <Col xs=\"3\" md=\"2\">\r\n            <a href={facebookLink}>\r\n              {\" \"}\r\n              <img src={FacebookImage} alt=\"..\" class=\"card-img-top\" />\r\n            </a>\r\n          </Col>\r\n          <Col xs=\"3\" md=\"2\">\r\n            <CopyToClipboard text={postLink}>\r\n              <img\r\n                src={LinkImage}\r\n                alt=\"..\"\r\n                class=\"card-img-top\"\r\n                onClick={copyAlert}\r\n              />\r\n            </CopyToClipboard>\r\n          </Col>\r\n          <Col md=\"2\"></Col>\r\n        </Row>\r\n        <br />\r\n        <CustomInput\r\n          type=\"switch\"\r\n          id=\"exampleCustomSwitch\"\r\n          name=\"customSwitch\"\r\n          label={countNumber + \"명이 이테스트를 좋아합니다\"}\r\n          onChange={handleChangeGoodOrNot}\r\n        />\r\n        <div className={styles.TitlePosition}>{props.data[0].subtitle}</div>\r\n\r\n        {props.data[0].contents.split(\"\\n\").map((line) => {\r\n          return (\r\n            <span>\r\n              {line}\r\n              <br />\r\n            </span>\r\n          );\r\n        })}\r\n      </div>\r\n      {/*signInfo.kakaoId == \"\" && signInfo.email == \"\" ? <SignIn /> : <></>*/}\r\n      {/*<hr />\r\n      <MoreInfoText> 더 많은 테스트 보기</MoreInfoText>*/}\r\n    </Result>\r\n  );\r\n};\r\nresultContents.getInitialProps = async function ({ query }) {\r\n  const res = await axios.get(\"https://hanstream.gabia.io/birth\", {\r\n    params: {\r\n      month: query.month,\r\n      day: query.day,\r\n      dbName: query.dbname,\r\n    },\r\n  });\r\n  const data = await res.data;\r\n\r\n  console.log(data);\r\n\r\n  console.log(`Show data fetched. Count: ${data.length}`);\r\n  return {\r\n    data: data,\r\n  };\r\n};\r\nexport default resultContents;\r\n"]},"metadata":{},"sourceType":"module"}