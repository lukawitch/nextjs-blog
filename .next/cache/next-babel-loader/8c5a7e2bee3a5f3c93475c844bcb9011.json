{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\MSI\\\\Desktop\\\\sajubaju\\\\pages\\\\result.js\";\n\nvar __jsx = React.createElement;\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { Row, Col, CustomInput } from \"reactstrap\";\nimport { birthContext } from \"../context/birth\";\nimport Result from \"../component/result\";\nimport { useRouter } from \"next/router\";\nimport axios from \"axios\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport TwitterImage from \"./twitter.png\";\nimport FacebookImage from \"./facebook.png\";\nimport KakaoImage from \"./kakaotalk.png\";\nimport LinkImage from \"./link.png\";\nimport styles from \"../component/result.module.css\";\nimport ShareButton from \"../component/result/shareButton\";\n\nvar resultContents = function resultContents(props) {\n  var testValue = 0;\n  var BirthInfo = useContext(birthContext);\n  var router = useRouter();\n\n  var _useState = useState(true),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState(0),\n      loadingTime = _useState2[0],\n      setLoadingTime = _useState2[1];\n\n  var _useState3 = useState(0),\n      countNumber = _useState3[0],\n      setCountNumber = _useState3[1]; //초기설정\n\n\n  useEffect(function () {\n    setCountNumber(props.data[0].goodButton);\n    BirthInfo.postGoodOrNot = false;\n    var interval = setInterval(function () {\n      testValue++;\n      setLoadingTime(testValue);\n      console.log(loadingTime);\n      console.log(testValue);\n    }, 380);\n    setTimeout(function () {\n      setLoading(false);\n      clearInterval(interval);\n    }, 3800);\n  }, []); //링크복사가 완료되었을때 alert를 보여줌\n\n  var copyAlert = function copyAlert() {\n    alert(\"링크복사가 완료되었습니다\");\n  };\n\n  if (loading) return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, __jsx(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, __jsx(Col, {\n    md: \"3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }), __jsx(Col, {\n    md: \"6\",\n    xs: \"12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, __jsx(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, \"\\uC77C\\uBD80\\uB7EC \\uC548\\uBCF4\\uC774\\uB294\\uCC99 \\uD558\\uB294\\uC911...\"), __jsx(\"img\", {\n    src: \"/image/loading.gif\",\n    class: \"card-img-top\",\n    alt: \"...\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  })), __jsx(Col, {\n    md: \"3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }))); //Layout\n\n  return __jsx(Result, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: styles.card,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    class: \"card\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, __jsx(\"img\", {\n    src: \"/image/\" + router.query.dbname + \"/\" + props.data[0].title + \".png\",\n    class: \"card-img-top\",\n    alt: \"...\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  })), __jsx(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    className: styles.MoreInfoText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, \" \\uBCF5\\uCC44\\uB294 \\uD558\\uD2B8\\uC640 \\uACF5\\uC720\\uB85C! \"), __jsx(ShareButton, {\n    num: props.data[0].num,\n    dbname: router.query.dbname,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    className: styles.TitlePosition,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, props.data[0].subtitle), props.data[0].contents.split(\"\\n\").map(function (line) {\n    return __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, line, __jsx(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 15\n      }\n    }));\n  })));\n};\n\nresultContents.getInitialProps = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n    var query, res, data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            query = _ref.query;\n            _context.next = 3;\n            return axios.get(\"https://hanstream.gabia.io/birth\", {\n              params: {\n                month: query.month,\n                day: query.day,\n                dbName: query.dbname\n              }\n            });\n\n          case 3:\n            res = _context.sent;\n            _context.next = 6;\n            return res.data;\n\n          case 6:\n            data = _context.sent;\n            console.log(data);\n            console.log(\"Show data fetched. Count: \".concat(data.length));\n            return _context.abrupt(\"return\", {\n              data: data\n            });\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexport default resultContents;","map":{"version":3,"sources":["C:/Users/MSI/Desktop/sajubaju/pages/result.js"],"names":["React","useContext","useEffect","useState","Row","Col","CustomInput","birthContext","Result","useRouter","axios","CopyToClipboard","TwitterImage","FacebookImage","KakaoImage","LinkImage","styles","ShareButton","resultContents","props","testValue","BirthInfo","router","loading","setLoading","loadingTime","setLoadingTime","countNumber","setCountNumber","data","goodButton","postGoodOrNot","interval","setInterval","console","log","setTimeout","clearInterval","copyAlert","alert","card","query","dbname","title","MoreInfoText","num","TitlePosition","subtitle","contents","split","map","line","getInitialProps","get","params","month","day","dbName","res","length"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Row, Col, CustomInput } from \"reactstrap\";\r\nimport { birthContext } from \"../context/birth\";\r\nimport Result from \"../component/result\";\r\nimport { useRouter } from \"next/router\";\r\nimport axios from \"axios\";\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\r\nimport TwitterImage from \"./twitter.png\";\r\nimport FacebookImage from \"./facebook.png\";\r\nimport KakaoImage from \"./kakaotalk.png\";\r\nimport LinkImage from \"./link.png\";\r\nimport styles from \"../component/result.module.css\";\r\nimport ShareButton from \"../component/result/shareButton\";\r\n\r\nconst resultContents = (props) => {\r\n  let testValue = 0;\r\n  const BirthInfo = useContext(birthContext);\r\n  const router = useRouter();\r\n  const [loading, setLoading] = useState(true);\r\n  const [loadingTime, setLoadingTime] = useState(0);\r\n  const [countNumber, setCountNumber] = useState(0);\r\n\r\n  //초기설정\r\n  useEffect(() => {\r\n    setCountNumber(props.data[0].goodButton);\r\n    BirthInfo.postGoodOrNot = false;\r\n    const interval = setInterval(() => {\r\n      testValue++;\r\n      setLoadingTime(testValue);\r\n      console.log(loadingTime);\r\n      console.log(testValue);\r\n    }, 380);\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n      clearInterval(interval);\r\n    }, 3800);\r\n  }, []);\r\n\r\n  //링크복사가 완료되었을때 alert를 보여줌\r\n  const copyAlert = () => {\r\n    alert(\"링크복사가 완료되었습니다\");\r\n  };\r\n  if (loading)\r\n    return (\r\n      <div>\r\n        <Row>\r\n          <Col md=\"3\"></Col>\r\n          <Col md=\"6\" xs=\"12\">\r\n            <h3>일부러 안보이는척 하는중...</h3>\r\n            <img src={\"/image/loading.gif\"} class=\"card-img-top\" alt=\"...\" />\r\n          </Col>\r\n          <Col md=\"3\"></Col>\r\n        </Row>\r\n      </div>\r\n    );\r\n\r\n  //Layout\r\n  return (\r\n    <Result>\r\n      <div className={styles.card}>\r\n        <div class=\"card\">\r\n          <img\r\n            src={\r\n              \"/image/\" +\r\n              router.query.dbname +\r\n              \"/\" +\r\n              props.data[0].title +\r\n              \".png\"\r\n            }\r\n            class=\"card-img-top\"\r\n            alt=\"...\"\r\n          />\r\n        </div>\r\n\r\n        <hr />\r\n        <div className={styles.MoreInfoText}> 복채는 하트와 공유로! </div>\r\n        <ShareButton num={props.data[0].num} dbname={router.query.dbname} />\r\n        {/*타이틀 */}\r\n        <div className={styles.TitlePosition}>{props.data[0].subtitle}</div>\r\n        {/*내용 */}\r\n        {props.data[0].contents.split(\"\\n\").map((line) => {\r\n          return (\r\n            <span>\r\n              {line}\r\n              <br />\r\n            </span>\r\n          );\r\n        })}\r\n      </div>\r\n      {/*signInfo.kakaoId == \"\" && signInfo.email == \"\" ? <SignIn /> : <></>*/}\r\n      {/*<hr />\r\n      <MoreInfoText> 더 많은 테스트 보기</MoreInfoText>*/}\r\n    </Result>\r\n  );\r\n};\r\nresultContents.getInitialProps = async function ({ query }) {\r\n  const res = await axios.get(\"https://hanstream.gabia.io/birth\", {\r\n    params: {\r\n      month: query.month,\r\n      day: query.day,\r\n      dbName: query.dbname,\r\n    },\r\n  });\r\n  const data = await res.data;\r\n\r\n  console.log(data);\r\n\r\n  console.log(`Show data fetched. Count: ${data.length}`);\r\n  return {\r\n    data: data,\r\n  };\r\n};\r\nexport default resultContents;\r\n"]},"metadata":{},"sourceType":"module"}