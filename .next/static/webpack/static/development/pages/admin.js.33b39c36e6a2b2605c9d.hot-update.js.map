{"version":3,"file":"static/webpack/static\\development\\pages\\admin.js.33b39c36e6a2b2605c9d.hot-update.js","sources":["webpack:///./component/admin/createTable.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\r\nimport { adminContext } from \"../../context/admin\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport ShowContents from \"./showContents\";\r\nconst createTable = observer(() => {\r\n  const adminInfo = useContext(adminContext);\r\n  const [dbName, setdbName] = useState();\r\n  const [array, setArray] = useState(0);\r\n  useEffect(() => {\r\n    adminInfo.getTable();\r\n    setArray(adminInfo.dbTableData);\r\n    console.log(array);\r\n    console.log(adminInfo.dbTableData);\r\n  }, [adminInfo.dbTableData]);\r\n  const handleChangeName = (e) => {\r\n    //adminInfo.dbName = e.target.value;\r\n    setdbName(e.target.value);\r\n  };\r\n  const getDBName = (e) => {\r\n    setdbName(e);\r\n    adminInfo.dbName = e;\r\n    adminInfo.getTableData();\r\n    setArray(adminInfo.dbTableData);\r\n  };\r\n  const handleChangeSubtitle = (e) => {\r\n    adminInfo.subtitle = e.target.value;\r\n  };\r\n  const handleChangeContents = (e) => {\r\n    adminInfo.contents = e.target.value;\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    adminInfo.dbName = dbName;\r\n    adminInfo.num = adminInfo.dbTable.length + 1;\r\n    adminInfo.searchTable();\r\n    //adminInfo.createTable();\r\n  };\r\n  return (\r\n    <div>\r\n      {console.log(array)}\r\n      <form onSubmit={handleSubmit}>\r\n        컨텐츠이름( 한글or영어로 입력해주세요(ex)호구,이상형)) <br />\r\n        <input type=\"text\" value={dbName} onChange={handleChangeName} />\r\n        <br />\r\n        요소제목\r\n        <input\r\n          type=\"text\"\r\n          value={adminInfo.subtitle}\r\n          onChange={handleChangeSubtitle}\r\n        />\r\n        <br />\r\n        요소내용\r\n        <textarea\r\n          value={adminInfo.contents}\r\n          onChange={handleChangeContents}\r\n          rows=\"4\"\r\n          cols=\"50\"\r\n        ></textarea>\r\n        <br />\r\n        <button type=\"submit\">만들기</button>\r\n      </form>\r\n      {adminInfo.dbTable === \"\" ? (\r\n        <></>\r\n      ) : (\r\n        <>\r\n          {adminInfo.dbTable.map((contents, num) => (\r\n            <>\r\n              <div onClick={() => getDBName(contents.name)}>\r\n                {\" \"}\r\n                {contents.num} {contents.name}\r\n              </div>\r\n              <br />\r\n            </>\r\n          ))}\r\n        </>\r\n      )}\r\n      {array === 0 ? (\r\n        <></>\r\n      ) : (\r\n        <>\r\n          {array.map((contents, num) => (\r\n            <>\r\n              <ShowContents\r\n                number={contents.number}\r\n                subtitle={contents.subtitle}\r\n                contents={contents.contents}\r\n              />\r\n              <br />\r\n            </>\r\n          ))}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default createTable;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AANA;AAeA;AAGA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPA;AAcA;AAEA;;;;A","sourceRoot":""}